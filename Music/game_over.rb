require 'rubygems'
require 'zgomot'

#.........................................................................................................
before_start do
  Zgomot.logger.level = Logger::DEBUG
end

#.........................................................................................................
# lead
#.........................................................................................................
lead_p1 = [np([:As,4], :phrygian, :l=>8, :v=>0.99)[2,5,4], n(:R, :l=>8)]
lead_p2 = [np([:C,4], :dorian, :l=>8, :v=>0.99)[1,6,4], n(:R, :l=>8)]
lead = [lead_p1, lead_p2]

#.........................................................................................................
str 'lead' do
  c = (count - 1) % lead.length
  ch(0) << lead[c]
end

play