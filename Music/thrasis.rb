require 'rubygems'
require 'zgomot'

#.........................................................................................................
before_start do
  Zgomot.logger.level = Logger::DEBUG
end

#.........................................................................................................
lead_p1 = np([:C,5], :aeolian, :l=>8, :v=>0.99)[1,1,5,5]
lead_p2 = np([:C,4], :aeolian, :l=>8, :v=>0.99)[3,5,6,4]
lead_phrases = [lead_p1, lead_p2, lead_p1, lead_p2, lead_p1, lead_p3]

#.........................................................................................................
str 'lead', nil do |pattern|
  c = (count % lead_phrases.length)
  ch(0) << lead_phrases[c]
end

#.........................................................................................................
play
